- name: setup nginx configuration
  hosts: localhost
  become: yes
  gather_facts: true
  vars_files:
    - vars.yml
  tasks:

    - name: print msg # single fact
      debug:
        msg: "{{ ansible_facts['architecture'] }}"
    
    - name: print architecture and all facts in YAML format
      debug:
        msg:
          - "Architecture: {{ ansible_facts['architecture'] }}"
          - "All facts:\n{{ ansible_facts | jq }}"
    
        
    
    - name: install nginx
      ansible.builtin.apt:
        name: nginx
        state: present
      when:
        - ansible_facts['os_family'] == "Debian"
  
